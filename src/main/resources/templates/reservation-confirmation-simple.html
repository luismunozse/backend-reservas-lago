<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Confirmación de Reserva - Lago Escondido</title>
</head>
<body style="font-family: Arial, sans-serif; line-height: 1.6; color: #333; max-width: 600px; margin: 0 auto; padding: 20px;">
    
    <div style="background: linear-gradient(135deg, #2c5aa0, #4a90e2); color: white; padding: 20px; text-align: center; border-radius: 8px 8px 0 0;">
        <h1 style="margin: 0; font-size: 24px;">🌲 Lago Escondido</h1>
        <p style="margin: 10px 0 0 0;">Confirmación de Reserva</p>
    </div>
    
    <div style="background: #ffffff; padding: 30px; border: 1px solid #ddd; border-top: none;">
        <h2>¡Hola <span th:text="${reservation.firstName}">Nombre</span>!</h2>
        
        <p>Te confirmamos que hemos recibido tu reserva para visitar el Lago Escondido.</p>
        
        <div style="background-color: #f8f9fa; border-radius: 8px; padding: 20px; margin: 20px 0; border-left: 4px solid #2c5aa0;">
            <h3 style="margin-top: 0; color: #2c5aa0;">📋 Detalles de la Reserva</h3>
            
            <p><strong>ID de Reserva:</strong> <span th:text="${reservation.id}">UUID</span></p>
            <p><strong>Fecha de Visita:</strong> <span th:text="${#temporals.format(reservation.visitDate, 'dd/MM/yyyy')}">Fecha</span></p>
            <p><strong>Tipo de Visita:</strong> <span th:text="${visitorTypeText}">Tipo</span></p>
            <p><strong>Circuito:</strong> <span th:text="${circuitText}">Circuito</span></p>
            <p><strong>Adultos (14+ años):</strong> <span th:text="${reservation.adults18Plus}">0</span></p>
            <p><strong>Menores:</strong> <span th:text="${reservation.children2To17}">0</span></p>
            <p><strong>Bebés:</strong> <span th:text="${reservation.babiesLessThan2}">0</span></p>
            
            <div th:if="${reservation.reducedMobility > 0}">
                <p><strong>Movilidad Reducida:</strong> <span th:text="${reservation.reducedMobility}">0</span></p>
            </div>
            
            <p><strong>Estado:</strong> 
                <span th:if="${reservation.status.name() == 'PENDING'}" style="background-color: #fff3cd; color: #856404; padding: 4px 8px; border-radius: 4px; font-size: 12px;">PENDIENTE</span>
                <span th:if="${reservation.status.name() == 'CONFIRMED'}" style="background-color: #d4edda; color: #155724; padding: 4px 8px; border-radius: 4px; font-size: 12px;">CONFIRMADA</span>
            </p>
            
            <div th:if="${reservation.visitorType.name() == 'EDUCATIONAL_INSTITUTION' and reservation.institutionName != null}">
                <p><strong>Institución:</strong> <span th:text="${reservation.institutionName}">Institución</span></p>
            </div>
            
            <div th:if="${reservation.originLocation != null}">
                <p><strong>Lugar de Origen:</strong> <span th:text="${reservation.originLocation}">Origen</span></p>
            </div>
        </div>
        
        <div style="background-color: #e7f3ff; border: 1px solid #b8daff; border-radius: 8px; padding: 20px; margin: 20px 0;">
            <h3 style="margin: 0 0 10px 0; color: #004085;">ℹ️ Información Importante</h3>
            <ul>
                <li><strong>Estado Pendiente:</strong> Tu reserva está siendo procesada. Recibirás una confirmación definitiva próximamente.</li>
                <li><strong>Horario de Visita:</strong> Consulta los horarios disponibles en nuestro sitio web.</li>
                <li><strong>Requisitos:</strong> Presenta este email y un documento de identidad el día de tu visita.</li>
                <li th:if="${reservation.allergies > 0}"><strong>Alergias:</strong> Hemos registrado que <span th:text="${reservation.allergies}">0</span> persona(s) en tu grupo tienen alergias. Por favor, contacta con nosotros si necesitas información adicional.</li>
            </ul>
        </div>
        
        <div th:if="${reservation.comment != null and !#strings.isEmpty(reservation.comment)}" style="background-color: #e7f3ff; border: 1px solid #b8daff; border-radius: 8px; padding: 20px; margin: 20px 0;">
            <h3 style="margin: 0 0 10px 0; color: #004085;">💬 Comentarios</h3>
            <p th:text="${reservation.comment}">Comentarios del visitante</p>
        </div>
    </div>
    
    <div style="background-color: #f8f9fa; padding: 20px; text-align: center; color: #6c757d; font-size: 14px; border-radius: 0 0 8px 8px; border: 1px solid #ddd; border-top: none;">
        <p><strong>Lago Escondido</strong></p>
        <p>📧 <a href="mailto:info@lago-escondido.com" style="color: #2c5aa0;">info@lago-escondido.com</a></p>
        <p>📞 +54 9 351 XXX-XXXX</p>
        <p>🌐 <a href="https://lago-escondido.com" style="color: #2c5aa0;">lago-escondido.com</a></p>
        <p style="margin-top: 20px; font-size: 12px; color: #adb5bd;">
            Este es un email automático, por favor no respondas a este mensaje.
        </p>
    </div>
    
</body>
</html>

